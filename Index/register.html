<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style_login.register.css">

    <title>註冊</title>

</head>

<body>

    <!-- header -->
    <header>

        <!-- header左半部(logo/nav) -->
        <div div class="header">
            <a href="./Index.html">
                <img src="image/logo.png" style="width: 150px; height: 60px; margin-right: 30px;">
            </a>           
        
        <div class="nav_main" >
                <div class="nav">
                    <a href="./Index.html">
                        <img src="image/icon_home.png" >
                        <p>首 頁</p>
                    </a>                        
                </div>
                <div class="nav">
                    <a href="./product_all.html">
                    <img src="image/icon_touch.png" >
                        <p1>商品一覽</p1>  
                    </a>                        
                </div>
            </div>

        </div>

        <!-- 右半部(line/購物車/會員) -->
        <div div class="header">
            <div class="nav_main">
                <div class="nav2">
                    <a href="https://lin.ee/HgVNDFW"><img src="image/icon_line.png" ></a>
                </div>
                <div class="nav2">
                    <a href="./cart.html"><img src="image/icon_cart.png" ></a>
            </div>
                <div class="nav2">
                    <a href="./login.html">登入</a>
                </div>
                <div class="nav2">
                    <a href="./register.html">註冊</a>
                </div>
            </div>
        </div>

    </header>

     <!-- 登入內容 -->
     <div id="main">

        <div class="main_title">
            <img src="image/icon_dots.png" >
            <p>註冊</p>
            <img src="image/icon_dots.png" >
        </div>

        <form action="/api/Member/Register" class="form" id="registerForm" method="post">
        
            <!-- 帳號密碼設定 -->
            <div class="main" style="margin-bottom: 20px;">

                <div class="title">
                    <img src="image/arrow-right.png" >
                    <p>設定會員帳號及密碼</p>      
                </div>
                    
                <div class="div">
                    <p>帳號</p>
                    <input type="text" placeholder="請輸入帳號" class="text" name="Account1">  
                </div>
                    
                <div class="div">
                    <p>密碼</p>
                    <input type="password" placeholder="請輸入密碼" class="text" name="Password">  
                </div>

            </div>
            
            <!-- 填寫基本資料 -->
            <div class="main" style="border-top: solid 1px #aab6c6;">
                
                <div class="title">
                    <img src="image/arrow-right.png" >
                    <p>填寫基本資料</p> 
                </div>            

                <div class="div">
                     <p>姓名</p>
                    <input type="text" placeholder="請輸入姓名" class="text" name="Name">  
                </div>

                <div class="div">
                    <p>電話號碼</p>
                    <input type="text" placeholder="請輸入電話號碼" class="text" name="Cellphone">  
                </div>

                <div class="div">
                    <p>電子信箱</p>
                    <input type="email" placeholder="請輸入電子信箱" class="text" name="Email">  
                </div>

            </div>

            <input type="submit" value="註冊" class="button ">
            
        </form>

    </div>

    <!-- footer -->
    <footer>
        <p>@2024手機樂園股份有限公司版權所有</p>
    </footer>



    <script>
        
        document.getElementById('registerForm').addEventListener('submit', function(event) {
            event.preventDefault(); // 阻止表單預設的提交行為

            const formData = new FormData(this); // 獲取表單資料

            // 將 FormData 轉換成 JSON 格式
            const jsonData = {};
            formData.forEach((value, key) => {
                jsonData[key] = value;
            });

            const url = "http://localhost:5193/api/Member/Register"; // 替換成你的後端 API 的 URL

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(jsonData), // 將表單資料轉換成 JSON 字串送出
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('伺服器回應錯誤');
                }
                return response.json(); // 解析回傳的 JSON
            })
            .then(data => {
                // 在這裡處理從後端收到的回應
                console.log(data);
                // 可以在這裡添加一些反饋給使用者的動作，例如顯示註冊成功訊息或導向其他頁面
            })
            .catch(error => {
                // 處理錯誤
                console.error('發生錯誤:', error);
            });
        });
    </script>
        
</body>

</html>